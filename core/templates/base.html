{% load static %}
<!doctype html>
<html lang="th">
<head>
  <style>
    html { font-size: 17px; }
    body { line-height: 1.7; }
    h1, h2, h3, h4, h5, h6 { font-weight: 700; color: #1e293b; margin-bottom: 0.5em; }
    label { font-size: 1rem; font-weight: 500; color: #334155; }
    input, select, textarea {
      font-size: 1rem;
      padding: 0.5em 0.75em;
      border-radius: 0.5em;
      border: 1px solid #cbd5e1;
      margin-top: 0.2em;
      margin-bottom: 0.5em;
    }
    .text-sm { font-size: 0.97rem; }
    .text-lg { font-size: 1.15rem; }
    .text-xl { font-size: 1.35rem; }
    .text-2xl { font-size: 1.7rem; }
    .text-gray-500 { color: #64748b; }
    .text-gray-600 { color: #475569; }
    .text-gray-700 { color: #334155; }
    .text-gray-800 { color: #1e293b; }
    .text-blue-700 { color: #2563eb; }
    .text-green-800 { color: #166534; }
    .text-red-600 { color: #dc2626; }
    .font-semibold { font-weight: 600; }
    .font-bold { font-weight: 700; }
    .rounded { border-radius: 0.5em; }
    .rounded-lg { border-radius: 0.7em; }
    .rounded-xl { border-radius: 1em; }
    .rounded-2xl { border-radius: 1.3em; }
    .shadow { box-shadow: 0 2px 8px 0 #0001; }
    .shadow-lg { box-shadow: 0 4px 16px 0 #0002; }
    .shadow-xl { box-shadow: 0 8px 24px 0 #0003; }
    .transition { transition: all 0.2s cubic-bezier(.4,0,.2,1); }
    .hover\:underline:hover { text-decoration: underline; }
    .hover\:bg-blue-700:hover { background: #1d4ed8; }
    .hover\:bg-green-700:hover { background: #15803d; }
    .hover\:bg-red-600:hover { background: #b91c1c; }
    .hover\:bg-gray-300:hover { background: #e5e7eb; }
    .hover\:shadow-md:hover { box-shadow: 0 4px 16px 0 #0002; }
    .hover\:shadow-lg:hover { box-shadow: 0 8px 24px 0 #0003; }
    .hover\:scale-105:hover { transform: scale(1.05); }
    .font-sans { font-family: 'Segoe UI', 'Noto Sans Thai', 'Prompt', Arial, sans-serif; }
  </style>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Motorbike Booking{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen">
  <nav class="bg-white border-b">
    <div class="max-w-5xl mx-auto px-4 py-3 flex justify-between items-center">
  <a href="{% url 'home' %}" class="font-bold text-indigo-700">THE_SERV_1</a>
      <div class="space-x-4">
        {% if user.is_authenticated %}
          <a href="{% url 'dashboard' %}" class="text-sm">Dashboard</a>
          {% if user.is_superuser %}
            <a href="{% url 'mechanic_dashboard' %}" class="text-sm text-blue-700 font-semibold">Mechanic</a>
            <a href="{% url 'mechanic_profile' %}" class="text-sm">Mechanic Profile</a>
          {% else %}
            {% if user.groups.all|length > 0 and user.groups.all.0.name == 'mechanic' %}
              <a href="{% url 'mechanic_dashboard' %}" class="text-sm text-blue-700 font-semibold">Mechanic</a>
              <a href="{% url 'mechanic_profile' %}" class="text-sm">Mechanic Profile</a>
            {% else %}
              <a href="{% url 'user_profile' %}" class="text-sm">My Profile</a>
            {% endif %}
          {% endif %}
            <form action="{% url 'logout' %}" method="post" style="display:inline;">
              {% csrf_token %}
              <button type="submit" class="text-sm text-red-600">Logout</button>
            </form>
        {% else %}
          <a href="{% url 'login' %}" class="text-sm">Login</a>
          <a href="{% url 'register' %}" class="text-sm">Register</a>
        {% endif %}
      </div>
    </div>
  </nav>
  <main class="max-w-5xl mx-auto p-4">
    {% if messages %}
      <div id="toast-container" class="fixed top-6 right-6 z-50 space-y-2">
        {% for m in messages %}
          <div class="px-5 py-3 rounded-xl shadow-lg border transition duration-300 animate-fadein
            {% if m.tags == 'success' %}bg-green-500 text-white border-green-600{% elif m.tags == 'error' %}bg-red-500 text-white border-red-600{% else %}bg-yellow-400 text-white border-yellow-600{% endif %}">
            <span class="font-bold mr-2">แจ้งเตือน:</span> {{ m }}
          </div>
        {% endfor %}
      </div>
      <script>
        setTimeout(function(){
          var toast = document.getElementById('toast-container');
          if (toast) toast.style.display = 'none';
        }, 3500);
      </script>
    {% endif %}
    {% block content %}{% endblock %}
  </main>
</body>
</html>
